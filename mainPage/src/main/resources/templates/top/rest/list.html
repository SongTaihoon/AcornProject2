<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>JEJU RESTAURANT TOP 20</title>
<link rel="stylesheet" href="/public/css/rest/list.css">
</head>
<body>
	<header th:insert="/NewHeader"></header>
	<div id="wrapper">
		<main class="container-xl">
			<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" id="path">
			  <ol class="breadcrumb">
			    <li class="breadcrumb-item">
			    	<a href="/">홈</a>
			    </li>
			    <li class="breadcrumb-item" aria-current="page">
			    	<a href="/top/rest/list/1" class="breadcrumb-item active">TOP 20 음식점</a>
			    </li>
			  </ol>
			</nav>
			<div class='tableauPlaceholder' id='viz1664518489534'>
				<noscript>
					<a href='#'>
						<img alt='제주 음식점 TOP 20 ' 
							src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;20&#47;20_16642577653010&#47;1&#47;1_rss.png' 
							/>
					</a>
				</noscript>
				<object class='tableauViz'  style='display:none;'>
					<param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> 
					<param name='embed_code_version' value='3' /> 
					<param name='site_root' value='' />
					<param name='name' value='20_16642577653010&#47;1' />
					<param name='tabs' value='no' />
					<param name='toolbar' value='yes' />
					<param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;20&#47;20_16642577653010&#47;1&#47;1.png' />
					<param name='animate_transition' value='yes' />
					<param name='display_static_image' value='yes' />
					<param name='display_spinner' value='yes' />
					<param name='display_overlay' value='yes' />
					<param name='display_count' value='yes' />
					<param name='language' value='ko-KR' />
				</object>
			</div>
			<h1 class="pb-4 d-flex justify-content-between align-items-center" style="border-bottom: 1px solid #e8e8e8; min-width: 1200px;">
				<span style="font-size: 35px;">제주도 음식점 TOP 20 추천</span> 
				<a href="/top/rest/insert.do" class="btn btn-secondary">음식점 등록</a>
			</h1>	 
			<table class="mt-5 mb-5 table table-bordered table-hover align-middle"
			   style="min-width: 1200px;">
			<thead class="table-light">
				<tr>
					<th>순위</th>
					<th>음식점업소명</th>
					<th>서귀포/제주도</th>
					<th>카테고리</th>
					<th>주소</th>	
					<th>검색수</th>	
				</tr>
			</thead>
			<tbody>
				<th:block th:each="rest : ${restaurantsList}" >
					<tr th:onclick="location.href='/top/rest/detail/[[${rest.rest_rank}]]'">
						<td th:text="${rest.ranking}"></td>
						<td th:text="${rest.tourist}"></td>
						<td th:text="${rest.city}"></td>
						<th:block th:if="${rest.category.category_id == '1'}">
							<td>관광지</td> 
						</th:block>
						<th:block th:if="${rest.category.category_id == '2'}">
							<td>숙박</td> 
						</th:block>
						<th:block th:if="${rest.category.category_id == '3'}">
							<td>맛집</td> 
						</th:block>			
						<td th:text="${rest.address2}"></td>
						<td th:text="${rest.search}"></td>
					</tr>					
				</th:block>
			</tbody>
		</table>
		<th:block th:unless="${count == 0}">
			<div class="d-flex justify-content-center" th:insert="/pagination"></div>
		</th:block>
		</main>
  	  <footer class="footer" th:insert="/NewFooter"></footer>
    </div> 
</body>
	  <script type='text/javascript'>          
		  var divElement = document.getElementById('viz1664518489534');  
		  var vizElement = divElement.getElementsByTagName('object')[0];       
		 	  vizElement.style.width='100%';
		  	  vizElement.style.height=(divElement.offsetWidth*0.75)+'px'; 
		  var scriptElement = document.createElement('script');           
		  scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';  
		  vizElement.parentNode.insertBefore(scriptElement, vizElement);          
	  </script> 
</html>