<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>회원 정보</title>
<link rel="stylesheet" href="/public/css/user/detail.css">
<!-- 주소API기능연동 -->
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js" defer="defer"></script>
<script th:src="@{/public/js/adressApi.js}" defer="defer"></script>
</head>
<body>
<header th:insert="/NewHeader"></header>
	<div id="wrapper">
	 <main class="container-xl">
	   <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb" id="path">
		  <ol class="breadcrumb">
		    <li class="breadcrumb-item">
		    	<a href="/">홈</a>
		    </li>
		    <li class="breadcrumb-item" aria-current="page">
		    	<a th:href="@{/users/detail/{userid}(userid=${session.loginUsers.userid})}" 
		    	   class="breadcrumb-item active" th:text="${session.loginUsers.username} + '(' + ${session.loginUsers.userid} + ')'"></a>
		    </li>
		  </ol>
		</nav>
	    <h1 class="pb-4 d-flex justify-content-between align-items-center" 
		    style="border-bottom: 1px solid #e8e8e8; min-width: 1200px;">
		    <span style="font-size: 35px;">회원 정보</span>
	    </h1>	
		<form action="/users/update.do" method="post">
			<table class="mt-5 mb-5 table align-middle table-bordered">
				<tbody>
					<tr>
						<th class="table-light">아이디</th>
						<td>
							<input name="userid" type="text" class="form-control" th:value="${usersDto.userid}" readonly>
						</td>
					</tr>
					<tr>
						<th class="table-light">이름</th>
						<td>
							<input name="username" id="username" class="form-control" type="text" th:value="${usersDto.username}" onkeyup="noSpaceForm(this)">
						</td>
					</tr>
					<tr>
						<th class="table-light">비밀번호</th>
						<td>
							<input name="userpw" id="userpw" class="form-control" type="text" th:value="${usersDto.userpw}" onkeyup="noSpaceForm(this)">
						</td>
					</tr>
					<tr>
						<th class="table-light">전화번호</th>
						<td>
							<input name="phone" id="phone" class="form-control" type="tel" th:value="${usersDto.phone}" onkeyup="noSpaceForm(this)">
						</td>
					</tr>
					<tr>
						<th class="table-light">이메일</th>
						<td>
							<input name="email" id="email" class="form-control" type="email" th:value="${usersDto.email}" onkeyup="noSpaceForm(this)">
						</td>
					</tr>
					<tr>
						<th class="table-light">생일</th>
						<td>
							<input name="birth" id="birth" class="form-control" type="date" th:value="${#dates.format(usersDto.birth, 'yyyy-MM-dd')}">
						</td>
					</tr>
					<tr>
						<th class="table-light">우편번호</th>
						<td style="text-align: left;">
						<div class="d-flex align-items-center">
							<input name="add1" id="sample6_postcode" type="text" size="20" th:value="${usersDto.add1}" 
							class="form-control" readonly style="display:inline; width:85%; margin-right: 8px;">
							<input type="button" class="btn btn-secondary" onclick="sample6_execDaumPostcode()" value="우편번호 찾기" style="display:inline; width:15%;">
							</div>
						</td>
					</tr>
					<tr>
						<th class="table-light">주소</th>
						<td>
							<input name="add2" id="sample6_address" type="text" size="40" th:value="${usersDto.add2}" class="form-control" readonly>
						</td>	
					</tr>
					<tr>
						<th class="table-light">상세 주소</th>
						<td>
							<input name="add3" id="sample6_detailAddress" type="text" size="40" th:value="${usersDto.add3}" class="form-control">
						</td>	
					</tr>
					<tr>
						<th class="table-light">참고 항목</th>
						<td>
							<input name="add4" id="sample6_extraAddress" type="text" size="40" th:value="${usersDto.add3}" class="form-control" readonly>
						</td>	
					</tr>
					<tr>
						<th class="table-light">가입일</th>
						<td>
							<input name="signup" id="inputSignup" class="form-control" type="datetime-local" 
				    			 th:value="${#dates.format(usersDto.signup, 'yyyy-MM-dd''T''HH:mm')}" readonly>
						</td>	
					</tr>
				</tbody>
			</table>
			<div id="button" class="row mb-3 g-3 align-items-center">
				<div class="col-auto">
					<button type="reset" class="btn btn-outline-warning btn-lg">초기화</button>
				</div>
				<div class="col-auto">
					<button type="submit" class="btn btn-outline-success btn-lg">수정</button>
				</div>
				<div class="col-auto">
					<a class="btn btn-outline-danger btn-lg" th:href="@{/users/delete/{userid}(userid=${usersDto.userid})}">삭제</a>
				</div>
			</div>
		</form>
	  </main>
<footer class="footer" th:insert="/NewFooter"></footer>
</div>
</body>
<script type="text/javascript">
function noSpaceForm(obj) { // 공백 사용 못하게
   var str_space = /\s/;  // 공백 체크
   if(str_space.exec(obj.value.trim)) { //공백 체크
       //alert("해당 항목에는 공백을 사용할수 없습니다.\n\n공백은 자동적으로 제거 됩니다.");
       obj.focus();
       obj.value = obj.value.replace(/\s| /gi,''); // 공백 제거
       return false;
   }
}
</script>
</html>